@startuml
!include style.puml

box Logic LOGIC_COLOR_T1
participant "User" as User LOGIC_COLOR
participant ":LogicManager" as LogicManager LOGIC_COLOR
participant ":AddressBookParser" as AddressBookParser LOGIC_COLOR
participant "findCommand:FindCommand" as FindCommand LOGIC_COLOR
end box


box Model MODEL_COLOR_T1
participant ":Model" as Model MODEL_COLOR
participant "predicate:NameContainsKeywordsPredicate" as Predicate MODEL_COLOR
end box

box UI UI_COLOR_T1
participant ":MainWindow" as MainWindow UI_COLOR
end box


User -> LogicManager : "search [keywords]"
activate LogicManager

LogicManager -> AddressBookParser : parseCommand("search [keywords]")
activate AddressBookParser

create FindCommand
AddressBookParser -> FindCommand : test(keywords)
activate FindCommand

LogicManager -> FindCommand : execute()
activate FindCommand

FindCommand -> Model : updateFilteredPersonList(predicate)
activate Model

loop for each person in List
    Model -> Predicate : test(person)
    activate Predicate
    Predicate --> Model : result
    deactivate Predicate
end

Model --> FindCommand : return filteredList
deactivate Model

FindCommand --> LogicManager : CommandResult
deactivate FindCommand

LogicManager -> MainWindow : displayFilteredList()
activate MainWindow
MainWindow --> LogicManager : Displayed
deactivate MainWindow


@enduml
